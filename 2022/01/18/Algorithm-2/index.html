<!DOCTYPE html>
<html>
  <head>
     
    <meta charset="UTF-8">
    <title>Algorithm 2 - xidaokun</title>
    <link rel="shortcut icon" href="/static/img/icon.png">
    <link rel="icon" href="/static/img/icon.png" sizes="192x192"/>
    
<link rel="stylesheet" href="/static/kico.css">
<link rel="stylesheet" href="/static/hingle.css">

    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1"/>
    <meta property="og:site_name" content="xidaokun">
    <meta property="og:title" content="Algorithm 2"/>
    
<meta name="generator" content="Hexo 7.1.1"></head>

  <body>
    <header>
    <div class="head-title">
        <h4>xidaokun</h4>
    </div>
    <div class="head-action">
        <div class="toggle-btn"></div>
        <div class="light-btn"></div>
        <div class="search-btn"></div>
    </div>
    <form class="head-search" method="post">
        <input type="text" name="s" placeholder="搜索什么？">
    </form>
    <nav class="head-menu">
        <a href="/">首页</a>
        <div class="has-child">
            <a>分类</a>
            <div class="sub-menu">
                
            </div>
        </div>
        
            <a target="_blank" rel="noopener" href="https://github.com/xidaokun">关于我</a>
        
    </nav>
</header>

    <main>
    <div class="wrap min">
        <section class="post-title">
            <h2>Algorithm 2</h2>
            <div class="post-meta">
                <time class="date">2022.01.18</time>
            
            </div>
        </section>
        <article class="post-content">
        
            <blockquote>这篇文章上次修改于 1219 天前，可能其部分内容已经发生变化，如有疑问可询问作者。</blockquote>
        
            <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>算法第二章，讨论排序算法。</p>
<img src="/2022/01/18/Algorithm-2/sort_algorithm.png" class="" title="sort algorithm">

<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><ul>
<li>从第一个元素开始，该元素可以认为已经被排序；</li>
<li>取出下一个元素，在已经排序的元素序列中从后向前扫描；</li>
<li>如果该元素（已排序）大于新元素，将该元素移到下一位置；</li>
<li>重复步骤3，直到找到已排序的元素小于或者等于新元素的位置；<br>将新元素插入到该位置后；</li>
<li>重复步骤2~5。<img src="/2022/01/18/Algorithm-2/insertion_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight nsis"><table><tr><td class="code"><pre><code class="hljs nsis"><span class="hljs-keyword">function</span> <span class="hljs-title function_">insertionSort</span>(arr) &#123;<br>    <span class="hljs-keyword">var</span> <span class="hljs-variable">len</span> = arr.length<span class="hljs-comment">;</span><br>    <span class="hljs-keyword">var</span> <span class="hljs-variable">preIndex</span>, <span class="hljs-literal">current</span><span class="hljs-comment">;</span><br>    for (<span class="hljs-keyword">var</span> <span class="hljs-variable">i</span> = <span class="hljs-number">1</span><span class="hljs-comment">; i &lt; len; i++) &#123;</span><br>        preIndex = i - <span class="hljs-number">1</span><span class="hljs-comment">;</span><br>        <span class="hljs-literal">current</span> = arr[i]<span class="hljs-comment">;</span><br>        while (preIndex &gt;= <span class="hljs-number">0</span> &amp;&amp; arr[preIndex] &gt; <span class="hljs-literal">current</span>) &#123;<br>            arr[preIndex + <span class="hljs-number">1</span>] = arr[preIndex]<span class="hljs-comment">;</span><br>            preIndex--<span class="hljs-comment">;</span><br>        &#125;<br>        arr[preIndex + <span class="hljs-number">1</span>] = <span class="hljs-literal">current</span><span class="hljs-comment">;</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> arr<span class="hljs-comment">;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><ul>
<li>比较相邻的元素。如果第一个比第二个大，就交换它们两个；</li>
<li>对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对，这样在最后的元素应该会是最大的数；</li>
<li>针对所有的元素重复以上的步骤，除了最后一个；</li>
<li>重复步骤1~3，直到排序完成。<img src="/2022/01/18/Algorithm-2/bubble_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight arcade"><table><tr><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">bubbleSort</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">var</span> len = arr.<span class="hljs-built_in">length</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len - <span class="hljs-number">1</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; len - <span class="hljs-number">1</span> - i; j++) &#123;<br>            <span class="hljs-keyword">if</span> (arr[j] &gt; arr[j+<span class="hljs-number">1</span>]) &#123;        <span class="hljs-comment">// 相邻元素两两对比</span><br>                <span class="hljs-keyword">var</span> temp = arr[j+<span class="hljs-number">1</span>];        <span class="hljs-comment">// 元素交换</span><br>                arr[j+<span class="hljs-number">1</span>] = arr[j];<br>                arr[j] = temp;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>n个记录的直接选择排序可经过n-1趟直接选择排序得到有序结果。具体算法描述如下：</p>
<ul>
<li>初始状态：无序区为R[1..n]，有序区为空；</li>
<li>第i趟排序(i&#x3D;1,2,3…n-1)开始时，当前有序区和无序区分别为R[1..i-1]和R(i..n）。该趟排序从当前无序区中-选出关键字最小的记录 R[k]，将它与无序区的第1个记录R交换，使R[1..i]和R[i+1..n)分别变为记录个数增加1个的新有序区和记录个数减少1个的新无序区；</li>
<li>n-1趟结束，数组有序化了。<img src="/2022/01/18/Algorithm-2/selection_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight arcade"><table><tr><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">selectionSort</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">var</span> len = arr.<span class="hljs-built_in">length</span>;<br>    <span class="hljs-keyword">var</span> minIndex, temp;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len - <span class="hljs-number">1</span>; i++) &#123;<br>        minIndex = i;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = i + <span class="hljs-number">1</span>; j &lt; len; j++) &#123;<br>            <span class="hljs-keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;     <span class="hljs-comment">// 寻找最小的数</span><br>                minIndex = j;                 <span class="hljs-comment">// 将最小数的索引保存</span><br>            &#125;<br>        &#125;<br>        temp = arr[i];<br>        arr[i] = arr[minIndex];<br>        arr[minIndex] = temp;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125; <br></code></pre></td></tr></table></figure>

<h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><ul>
<li>先选定一个整数gap，把待排序文件中所有元素分成gap组，即所有距离为gap的分在同一组内，并对每一组内的元素进行直接插入排序（本质是进行预排序，使数组更接近有序，目的是使最后一次直接插入排序提高效率）；</li>
<li>取gap&#x3D;gap&#x2F;2或者gap&#x3D;gap&#x2F;3+1重复上述分组和排序的工作；</li>
<li>当gap到达1时，数组是已经接近有序的，当gap&#x3D;1，即以一个元素为一组，就相当于对整个数组进行直接插入排序了。<img src="/2022/01/18/Algorithm-2/shell_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight arcade"><table><tr><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">shellSort</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">var</span> len = arr.<span class="hljs-built_in">length</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> gap = Math.<span class="hljs-built_in">floor</span>(len / <span class="hljs-number">2</span>); gap &gt; <span class="hljs-number">0</span>; gap = Math.<span class="hljs-built_in">floor</span>(gap / <span class="hljs-number">2</span>)) &#123;<br>        <span class="hljs-comment">// 注意：这里和动图演示的不一样，动图是分组执行，实际操作是多个分组交替执行</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = gap; i &lt; len; i++) &#123;<br>            <span class="hljs-keyword">var</span> j = i;<br>            <span class="hljs-keyword">var</span> current = arr[i];<br>            <span class="hljs-keyword">while</span> (j - gap &gt;= <span class="hljs-number">0</span> &amp;&amp; current &lt; arr[j - gap]) &#123;<br>                 arr[j] = arr[j - gap];<br>                 j = j - gap;<br>            &#125;<br>            arr[j] = current;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><ul>
<li>把长度为n的输入序列分成两个长度为n&#x2F;2的子序列；</li>
<li>对这两个子序列分别采用归并排序；</li>
<li>将两个排序好的子序列合并成一个最终的排序序列。<img src="/2022/01/18/Algorithm-2/merge_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight arcade"><table><tr><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">mergeSort</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">var</span> len = arr.<span class="hljs-built_in">length</span>;<br>    <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">return</span> arr;<br>    &#125;<br>    <span class="hljs-keyword">var</span> middle = Math.<span class="hljs-built_in">floor</span>(len / <span class="hljs-number">2</span>),<br>        <span class="hljs-built_in">left</span> = arr.<span class="hljs-built_in">slice</span>(<span class="hljs-number">0</span>, middle),<br>        <span class="hljs-built_in">right</span> = arr.<span class="hljs-built_in">slice</span>(middle);<br>    <span class="hljs-keyword">return</span> merge(mergeSort(<span class="hljs-built_in">left</span>), mergeSort(<span class="hljs-built_in">right</span>));<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">left, right</span>) &#123;<br>    <span class="hljs-keyword">var</span> result = [];<br> <br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">left</span>.<span class="hljs-built_in">length</span>&gt;<span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">right</span>.<span class="hljs-built_in">length</span>&gt;<span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">left</span>[<span class="hljs-number">0</span>] &lt;= <span class="hljs-built_in">right</span>[<span class="hljs-number">0</span>]) &#123;<br>            result.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">left</span>.shift());<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            result.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">right</span>.shift());<br>        &#125;<br>    &#125;<br> <br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">left</span>.<span class="hljs-built_in">length</span>)<br>        result.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">left</span>.shift());<br> <br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">right</span>.<span class="hljs-built_in">length</span>)<br>        result.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">right</span>.shift());<br> <br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><ul>
<li>从数列中挑出一个元素，称为 “基准”（pivot）；</li>
<li>重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这个分区退出之后，该基准就处于数列的中间位置。这个称为分区（partition）操作；</li>
<li>递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。</li>
</ul>
<img src="/2022/01/18/Algorithm-2/quick_sort.gif" class="" title="bubble sort">

<figure class="highlight excel"><table><tr><td class="code"><pre><code class="hljs excel">function quickSort(arr, <span class="hljs-built_in">left</span>, <span class="hljs-built_in">right</span>) &#123;<br>    <span class="hljs-built_in">var</span> <span class="hljs-built_in">len</span> = arr.length,<br>        partitionIndex,<br>        <span class="hljs-built_in">left</span> = typeof <span class="hljs-built_in">left</span> != &#x27;number&#x27; ? <span class="hljs-number">0</span> <span class="hljs-symbol">:</span> <span class="hljs-built_in">left</span>,<br>        <span class="hljs-built_in">right</span> = typeof <span class="hljs-built_in">right</span> != &#x27;number&#x27; ? <span class="hljs-built_in">len</span> - <span class="hljs-number">1</span> <span class="hljs-symbol">:</span> <span class="hljs-built_in">right</span>;<br> <br>    <span class="hljs-built_in">if</span> (<span class="hljs-built_in">left</span> &lt; <span class="hljs-built_in">right</span>) &#123;<br>        partitionIndex = partition(arr, <span class="hljs-built_in">left</span>, <span class="hljs-built_in">right</span>);<br>        quickSort(arr, <span class="hljs-built_in">left</span>, partitionIndex-<span class="hljs-number">1</span>);<br>        quickSort(arr, partitionIndex+<span class="hljs-number">1</span>, <span class="hljs-built_in">right</span>);<br>    &#125;<br>    return arr;<br>&#125;<br> <br>function partition(arr, <span class="hljs-built_in">left</span> ,<span class="hljs-built_in">right</span>) &#123;     // 分区操作<br>    <span class="hljs-built_in">var</span> pivot = <span class="hljs-built_in">left</span>,                      // 设定基准值（pivot）<br>        <span class="hljs-built_in">index</span> = pivot + <span class="hljs-number">1</span>;<br>    for (<span class="hljs-built_in">var</span> i = <span class="hljs-built_in">index</span>; i &lt;= <span class="hljs-built_in">right</span>; i++) &#123;<br>        <span class="hljs-built_in">if</span> (arr[i] &lt; arr[pivot]) &#123;<br>            swap(arr, i, <span class="hljs-built_in">index</span>);<br>            <span class="hljs-built_in">index</span>++;<br>        &#125;       <br>    &#125;<br>    swap(arr, pivot, <span class="hljs-built_in">index</span> - <span class="hljs-number">1</span>);<br>    return <span class="hljs-built_in">index</span>-<span class="hljs-number">1</span>;<br>&#125;<br> <br>function swap(arr, i, j) &#123;<br>    <span class="hljs-built_in">var</span> temp = arr[i];<br>    arr[i] = arr[j];<br>    arr[j] = temp;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><ul>
<li>将初始待排序关键字序列(R1,R2….Rn)构建成大顶堆，此堆为初始的无序区；</li>
<li>将堆顶元素R[1]与最后一个元素R[n]交换，此时得到新的无序区(R1,R2,……Rn-1)和新的有序区(Rn),且满足R[1,2…n-1]&lt;&#x3D;R[n]；</li>
<li>由于交换后新的堆顶R[1]可能违反堆的性质，因此需要对当前无序区(R1,R2,……Rn-1)调整为新堆，然后再次将R[1]与无序区最后一个元素交换，得到新的无序区(R1,R2….Rn-2)和新的有序区(Rn-1,Rn)。不断重复此过程直到有序区的元素个数为n-1，则整个排序过程完成。<img src="/2022/01/18/Algorithm-2/heap_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight wren"><table><tr><td class="code"><pre><code class="hljs wren"><span class="hljs-keyword">var</span> <span class="hljs-variable">len</span>;    <span class="hljs-comment">// 因为声明的多个函数都需要数据长度，所以把len设置成为全局变量</span><br> <br><span class="hljs-variable">function</span> <span class="hljs-title function_">buildMaxHeap</span>(<span class="hljs-params">arr</span>) &#123;   <span class="hljs-comment">// 建立大顶堆</span><br>    <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> <span class="hljs-variable">arr</span>.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">floor</span>(<span class="hljs-variable">len</span>/<span class="hljs-number">2</span>); <span class="hljs-variable">i</span> <span class="hljs-operator">&gt;=</span> <span class="hljs-number">0</span>; <span class="hljs-variable">i</span><span class="hljs-operator">-</span><span class="hljs-operator">-</span>) &#123;<br>        <span class="hljs-title function_">heapify</span>(<span class="hljs-variable">arr</span>, <span class="hljs-variable">i</span>);<br>    &#125;<br>&#125;<br> <br><span class="hljs-variable">function</span> <span class="hljs-title function_">heapify</span>(<span class="hljs-params">arr</span>, <span class="hljs-params">i</span>) &#123;     <span class="hljs-comment">// 堆调整</span><br>    <span class="hljs-keyword">var</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> <span class="hljs-operator">*</span> <span class="hljs-variable">i</span> <span class="hljs-operator">+</span> <span class="hljs-number">1</span>,<br>        <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> <span class="hljs-operator">*</span> <span class="hljs-variable">i</span> <span class="hljs-operator">+</span> <span class="hljs-number">2</span>,<br>        <span class="hljs-variable">largest</span> <span class="hljs-operator">=</span> <span class="hljs-variable">i</span>;<br> <br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">left</span> <span class="hljs-operator">&lt;</span> <span class="hljs-variable">len</span> <span class="hljs-operator">&amp;&amp;</span> <span class="hljs-variable">arr</span>[<span class="hljs-variable">left</span>] <span class="hljs-operator">&gt;</span> <span class="hljs-variable">arr</span>[<span class="hljs-variable">largest</span>]) &#123;<br>        <span class="hljs-variable">largest</span> <span class="hljs-operator">=</span> <span class="hljs-variable">left</span>;<br>    &#125;<br> <br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">right</span> <span class="hljs-operator">&lt;</span> <span class="hljs-variable">len</span> <span class="hljs-operator">&amp;&amp;</span> <span class="hljs-variable">arr</span>[<span class="hljs-variable">right</span>] <span class="hljs-operator">&gt;</span> <span class="hljs-variable">arr</span>[<span class="hljs-variable">largest</span>]) &#123;<br>        <span class="hljs-variable">largest</span> <span class="hljs-operator">=</span> <span class="hljs-variable">right</span>;<br>    &#125;<br> <br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">largest</span> <span class="hljs-operator">!=</span> <span class="hljs-variable">i</span>) &#123;<br>        <span class="hljs-title function_">swap</span>(<span class="hljs-variable">arr</span>, <span class="hljs-variable">i</span>, <span class="hljs-variable">largest</span>);<br>        <span class="hljs-title function_">heapify</span>(<span class="hljs-variable">arr</span>, <span class="hljs-variable">largest</span>);<br>    &#125;<br>&#125;<br> <br><span class="hljs-variable">function</span> <span class="hljs-title function_">swap</span>(<span class="hljs-params">arr</span>, <span class="hljs-params">i</span>, <span class="hljs-params">j</span>) &#123;<br>    <span class="hljs-keyword">var</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> <span class="hljs-variable">arr</span>[<span class="hljs-variable">i</span>];<br>    <span class="hljs-variable">arr</span>[<span class="hljs-variable">i</span>] <span class="hljs-operator">=</span> <span class="hljs-variable">arr</span>[<span class="hljs-variable">j</span>];<br>    <span class="hljs-variable">arr</span>[<span class="hljs-variable">j</span>] <span class="hljs-operator">=</span> <span class="hljs-variable">temp</span>;<br>&#125;<br> <br><span class="hljs-variable">function</span> <span class="hljs-title function_">heapSort</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-title function_">buildMaxHeap</span>(<span class="hljs-variable">arr</span>);<br> <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-variable">arr</span>.<span class="hljs-property">length</span> <span class="hljs-operator">-</span> <span class="hljs-number">1</span>; <span class="hljs-variable">i</span> <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>; <span class="hljs-variable">i</span><span class="hljs-operator">-</span><span class="hljs-operator">-</span>) &#123;<br>        <span class="hljs-title function_">swap</span>(<span class="hljs-variable">arr</span>, <span class="hljs-number">0</span>, <span class="hljs-variable">i</span>);<br>        <span class="hljs-variable">len</span><span class="hljs-operator">-</span><span class="hljs-operator">-</span>;<br>        <span class="hljs-title function_">heapify</span>(<span class="hljs-variable">arr</span>, <span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable">arr</span>;<br>&#125;<br></code></pre></td></tr></table></figure>


<h3 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h3><ul>
<li>找出待排序的数组中最大和最小的元素；</li>
<li>统计数组中每个值为i的元素出现的次数，存入数组C的第i项；</li>
<li>对所有的计数累加（从C中的第一个元素开始，每一项和前一项相加）；</li>
<li>反向填充目标数组：将每个元素i放在新数组的第C(i)项，每放一个元素就将C(i)减去1。<img src="/2022/01/18/Algorithm-2/count_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><code class="hljs mipsasm">function countingSort(arr, maxValue) &#123;<br>    var <span class="hljs-keyword">bucket </span>= new Array(maxValue + <span class="hljs-number">1</span>),<br>        sortedIndex = <span class="hljs-number">0</span>;<br>        arrLen = arr.length,<br>        <span class="hljs-keyword">bucketLen </span>= maxValue + <span class="hljs-number">1</span>;<br> <br>    for (var i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; arrLen; i++) &#123;</span><br>        if (!<span class="hljs-keyword">bucket[arr[i]]) </span>&#123;<br>            <span class="hljs-keyword">bucket[arr[i]] </span>= <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">bucket[arr[i]]++;</span><br><span class="hljs-keyword"></span>    &#125;<br> <br>    for (var <span class="hljs-keyword">j </span>= <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; bucketLen; j++) &#123;</span><br>        while(<span class="hljs-keyword">bucket[j] </span>&gt; <span class="hljs-number">0</span>) &#123;<br>            arr[sortedIndex++] = <span class="hljs-keyword">j;</span><br><span class="hljs-keyword"></span>            <span class="hljs-keyword">bucket[j]--;</span><br><span class="hljs-keyword"></span>        &#125;<br>    &#125;<br> <br>    return arr;<br>&#125;<br></code></pre></td></tr></table></figure>


<h3 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h3><ul>
<li>设置一个定量的数组当作空桶；</li>
<li>遍历输入数据，并且把数据一个一个放到对应的桶里去；</li>
<li>对每个不是空的桶进行排序；</li>
<li>从不是空的桶里把排好序的数据拼接起来。<img src="/2022/01/18/Algorithm-2/bucket_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight arcade"><table><tr><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">bucketSort</span>(<span class="hljs-params">arr, bucketSize</span>) &#123;<br>    <span class="hljs-keyword">if</span> (arr.<span class="hljs-built_in">length</span> === <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> arr;<br>    &#125;<br> <br>    <span class="hljs-keyword">var</span> i;<br>    <span class="hljs-keyword">var</span> minValue = arr[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> maxValue = arr[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; arr.<span class="hljs-built_in">length</span>; i++) &#123;<br>      <span class="hljs-keyword">if</span> (arr[i] &lt; minValue) &#123;<br>          minValue = arr[i];                <span class="hljs-comment">// 输入数据的最小值</span><br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr[i] &gt; maxValue) &#123;<br>          maxValue = arr[i];                <span class="hljs-comment">// 输入数据的最大值</span><br>      &#125;<br>    &#125;<br> <br>    <span class="hljs-comment">// 桶的初始化</span><br>    <span class="hljs-keyword">var</span> DEFAULT_BUCKET_SIZE = <span class="hljs-number">5</span>;            <span class="hljs-comment">// 设置桶的默认数量为5</span><br>    bucketSize = bucketSize || DEFAULT_BUCKET_SIZE;<br>    <span class="hljs-keyword">var</span> bucketCount = Math.<span class="hljs-built_in">floor</span>((maxValue - minValue) / bucketSize) + <span class="hljs-number">1</span>;  <br>    <span class="hljs-keyword">var</span> buckets = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(bucketCount);<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; buckets.<span class="hljs-built_in">length</span>; i++) &#123;<br>        buckets[i] = [];<br>    &#125;<br> <br>    <span class="hljs-comment">// 利用映射函数将数据分配到各个桶中</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-built_in">length</span>; i++) &#123;<br>        buckets[Math.<span class="hljs-built_in">floor</span>((arr[i] - minValue) / bucketSize)].<span class="hljs-built_in">push</span>(arr[i]);<br>    &#125;<br> <br>    arr.<span class="hljs-built_in">length</span> = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; buckets.<span class="hljs-built_in">length</span>; i++) &#123;<br>        insertionSort(buckets[i]);                      <span class="hljs-comment">// 对每个桶进行排序，这里使用了插入排序</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; buckets[i].<span class="hljs-built_in">length</span>; j++) &#123;<br>            arr.<span class="hljs-built_in">push</span>(buckets[i][j]);                     <br>        &#125;<br>    &#125;<br> <br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure>


<h3 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h3><ul>
<li>取得数组中的最大数，并取得位数；</li>
<li>arr为原始数组，从最低位开始取每个位组成radix数组；</li>
<li>对radix进行计数排序（利用计数排序适用于小范围数的特点）；<img src="/2022/01/18/Algorithm-2/radix_sort.gif" class="" title="bubble sort"></li>
</ul>
<figure class="highlight arcade"><table><tr><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> counter = [];<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">radixSort</span>(<span class="hljs-params">arr, maxDigit</span>) &#123;<br>    <span class="hljs-keyword">var</span> mod = <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">var</span> dev = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; maxDigit; i++, dev *= <span class="hljs-number">10</span>, mod *= <span class="hljs-number">10</span>) &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; arr.<span class="hljs-built_in">length</span>; j++) &#123;<br>            <span class="hljs-keyword">var</span> bucket = parseInt((arr[j] % mod) / dev);<br>            <span class="hljs-keyword">if</span>(counter[bucket]==<span class="hljs-literal">null</span>) &#123;<br>                counter[bucket] = [];<br>            &#125;<br>            counter[bucket].<span class="hljs-built_in">push</span>(arr[j]);<br>        &#125;<br>        <span class="hljs-keyword">var</span> pos = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; counter.<span class="hljs-built_in">length</span>; j++) &#123;<br>            <span class="hljs-keyword">var</span> value = <span class="hljs-literal">null</span>;<br>            <span class="hljs-keyword">if</span>(counter[j]!=<span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-keyword">while</span> ((value = counter[j].shift()) != <span class="hljs-literal">null</span>) &#123;<br>                      arr[pos++] = value;<br>                &#125;<br>          &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure>


        </article>
        <section class="post-near">
            <ul>
                
                    <li>上一篇: <a href="/2022/01/20/Algorithm-3/">Algorithm 3</a></li>
                
                
                    <li>下一篇: <a href="/2022/01/17/Algorithm-1/">Algorithm 1</a></li>
                
            </ul>
        </section>
        
            <section class="post-tags">
            <a class="-none-link" href="/tags/Algorithm/" rel="tag">Algorithm</a><a class="-none-link" href="/tags/IT-Basics/" rel="tag">IT-Basics</a>
            </section>
        
    
        <section class="post-author">
        
            <figure class="author-avatar">
                <img src="https://avatars.githubusercontent.com/u/11327150?v=4" alt="xidaokun" />
            </figure>
        
            <div class="author-info">
                <h4>xidaokun</h4>
                <p>本站未注明转载的文章均为原创，并采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow">CC BY-NC-SA 4.0</a> 授权协议，<span style="color: #E91E63">转载请注明来源</span>，谢谢。</p>
            </div>
        </section>
    
    </div>
</main>

    <footer>
    <div class="buttons">
        <a class="to-top" href="#"></a>
    </div>
    <div class="wrap min">
        <section class="widget">
            <div class="row">
                <div class="col-m-4">
                    <h3 class="title-recent">最新文章：</h3>
                    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2025/05/20/Blutooth-04/">Blutooth-04</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/05/20/Blutooth-03/">Blutooth-03</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/05/14/Blutooth-02/">Blutooth-02</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/05/14/Blutooth-01/">Blutooth-01</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/01/07/Blockchain-1/">Blockchain-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/06/LLM1/">LLM 研究(1)</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-date">时光机：</h3>
                    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">May 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-tags">标签云：</h3>
                    <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/Algorithm/" style="font-size: 16.67px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 11.67px;">Android</a> <a href="/tags/Application-Android/" style="font-size: 10px;">Application Android</a> <a href="/tags/Application-Backend/" style="font-size: 11.67px;">Application Backend</a> <a href="/tags/Architecture/" style="font-size: 11.67px;">Architecture</a> <a href="/tags/Architecture-Car/" style="font-size: 10px;">Architecture Car</a> <a href="/tags/Blutooth/" style="font-size: 15px;">Blutooth</a> <a href="/tags/IT-Basics/" style="font-size: 20px;">IT-Basics</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/LLM/" style="font-size: 10px;">LLM</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/OS/" style="font-size: 18.33px;">OS</a> <a href="/tags/Security/" style="font-size: 13.33px;">Security</a> <a href="/tags/Tool/" style="font-size: 11.67px;">Tool</a>
                </div>
            </div>
        </section>
        <section class="sub-footer">
            <p>© 2025 <a href="/">xidaokun</a>. All Rights Reserved</p>
        </section>
    </div>
</footer>


<script src="/static/kico.js"></script>
<script src="/static/hingle.js"></script>


<script>var hingle = new Paul_Hingle({"copyright":true,"night":true});</script>

  </body>
</html>
